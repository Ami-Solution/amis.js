<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl">
  <title data-ice="title">Home | dethergateway</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="Gateway between Front App and the detherContracts."><meta property="twitter:card" content="summary"><meta property="twitter:title" content="dethergateway"><meta property="twitter:description" content="Gateway between Front App and the detherContracts."></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/dethertech/detherGateway"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#constants">constants</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getContractInstance">getContractInstance</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getContractStorageInstance">getContractStorageInstance</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getSignedContractInstance">getSignedContractInstance</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-GAS_PRICE">GAS_PRICE</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-PROVIDER_URL">PROVIDER_URL</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-UTILITYWEB3">UTILITYWEB3</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#mock">mock</a><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-mock">mock</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-mockStorage">mockStorage</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#tellers">tellers</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-dtrRegisterPoint">dtrRegisterPoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-withdrawAll">withdrawAll</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-dtrSendCoin">dtrSendCoin</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getBalance">getBalance</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-dtrGetTeller">dtrGetTeller</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getAllTellers">getAllTellers</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getTellersPerZone">getTellersPerZone</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-tellers">tellers</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><div data-ice="index" class="github-markdown"><h1 id="dethergateway--a-href--https---travis-ci-com-dethertech-dethergateway---img-src--https---travis-ci-com-dethertech-dethergateway-svg-token-kdsx9y3g2xz5ptcyzuyl-amp-branch-master--alt--build-status----a---img-src--https---img-shields-io-npm-v-dethergateway-svg--alt--npm--">detherGateway <a href="https://travis-ci.com/dethertech/detherGateway"><img src="https://travis-ci.com/dethertech/detherGateway.svg?token=kdsX9Y3G2xZ5ptCyzuYL&amp;branch=master" alt="Build Status"></a> <img src="https://img.shields.io/npm/v/detherGateway.svg" alt="npm"></h1><p>Dether Gateway</p>
<h2 id="table-of-contents">Table of Contents</h2><ul>
<li><a href="#get-started">Get Started</a></li>
<li><a href="#usages">Usages</a><ul>
<li><a href="#add-tellers">Add tellers</a></li>
<li><a href="#get-teller">Get teller</a></li>
<li><a href="#get-zone">Get zone</a></li>
<li><a href="#get-all">Get all</a></li>
<li><a href="#get-balance">Get balance</a></li>
<li><a href="#delete-teller">Delete teller</a></li>
</ul>
</li>
<li><a href="#install">Install</a></li>
<li><a href="#example">Example</a></li>
<li><a href="#dev">Dev</a></li>
<li><a href="#test">Test</a></li>
<li><a href="#build-doc">Build doc</a></li>
<li><a href="#dependencies">Dependencies</a></li>
<li><a href="#dev-dependencies">Dev Dependencies</a></li>
<li><a href="#bugs">Bugs</a></li>
<li><a href="#license">License</a></li>
<li><a href="#donation">Donation</a></li>
</ul>
<h2 id="usages">Usages</h2><h3 id="add-tellers">Add tellers</h3><pre><code class="lang-javascript"><code class="source-code prettyprint">const tellers = detherGateway.tellers.add(teller);</code>
</code></pre>
<h4 id="inputs">Inputs</h4><ul>
<li><code>teller</code>: Ethereum address</li>
<li><code>lat</code> latitude min -90 max +90</li>
<li><code>lng</code> longitude min -180 max +180</li>
<li><code>zone</code> geographic zone</li>
<li><code>rates</code> Margin (0-100 * 100)</li>
<li><code>avatar</code> (1-9)</li>
<li><code>currency</code> number (0-4)</li>
<li><code>telegam</code> pseudo telegram</li>
<li><code>amount</code> escrow</li>
<li><code>username</code> username</li>
<li><code>keystore</code> deserialize keystore</li>
<li><code>password</code> string</li>
<li><code>providerUrl</code>string</li>
</ul>
<h4 id="return-value">Return value</h4><pre><code class="lang-javascript"><code class="source-code prettyprint">{
    from: ethToolbox.utils.add0x(key.address),
    to: dtrContractInstance.address,
    value: teller.amount,
    date: new Date().toLocaleString(&apos;en-US&apos;, { hour12: false }),
    dether: {
      detherContract: true,
      receive: false,
    },
    etherscan: {
      kovan: `https://kovan.etherscan.io/tx/${result}`,
      ropsten: `https://ropsten.etherscan.io/tx/${result}`,
      ether: `https://etherscan.io/tx/${result}`,
    }
  }</code>
</code></pre>
<h3 id="get-teller">Get teller</h3><pre><code class="lang-javascript"><code class="source-code prettyprint">const tellers = detherGateway.tellers.get(address);</code>
</code></pre>
<h4 id="inputs">Inputs</h4><ul>
<li><code>address</code>: Ethereum address</li>
</ul>
<h4 id="return-value">Return value</h4><pre><code class="lang-javascript"><code class="source-code prettyprint">{
  name: UTILITYWEB3.toUtf8(tellerProfile[3]) || &apos;Dether&apos;,
  messengerAddr: UTILITYWEB3.toUtf8(tellerProfile[6]) || &apos;Dether_io&apos;,
  lat: tellerPos[0].toNumber() / (10 ** 5) || 48.864716,
  lng: tellerPos[1].toNumber() / (10 ** 5) || 2.349014,
  zoneId: tellerPos[2].toNumber(),
  escrowBalance: Number(UTILITYWEB3.fromWei(tellerPos[3].toNumber(), &apos;ether&apos;)) || 0,
  rates: tellerProfile[0].toNumber(),
  volumeTrade: Number(UTILITYWEB3.fromWei(tellerProfile[1].toNumber(), &apos;ether&apos;)) || 0,
  nbTrade: tellerProfile[2].toNumber(),
  currencyId: tellerProfile[4].toNumber(),
  avatarId: tellerProfile[5].toNumber(),
  ethAddress: address,
  id: address,
}</code>
</code></pre>
<h3 id="get-zone">Get zone</h3><pre><code class="lang-javascript"><code class="source-code prettyprint">const tellers = detherGateway.tellers.getZone(countryCode);</code>
</code></pre>
<h4 id="inputs">Inputs</h4><ul>
<li><code>countryCode</code>: Geocoding country CODE (only the digit)</li>
</ul>
<h4 id="return-value">Return value</h4><ul>
<li>{array} array of tellers</li>
</ul>
<h3 id="get-all">Get all</h3><pre><code class="lang-javascript"><code class="source-code prettyprint">const tellers = detherGateway.tellers.getAll();</code>
</code></pre>
<h4 id="inputs">Inputs</h4><ul>
<li>.</li>
</ul>
<h4 id="return-value">Return value</h4><ul>
<li>{array} array of all tellers</li>
</ul>
<h3 id="get-balance">Get balance</h3><pre><code class="lang-javascript"><code class="source-code prettyprint">const tellers = detherGateway.tellers.balance(address);</code>
</code></pre>
<h4 id="inputs">Inputs</h4><ul>
<li><code>address</code>: Tellers Ethereum address</li>
</ul>
<h4 id="return-value">Return value</h4><ul>
<li>balance of tellers</li>
</ul>
<h3 id="delete-teller">Delete teller</h3><pre><code class="lang-javascript"><code class="source-code prettyprint">const tellers = detherGateway.tellers.del(address);</code>
</code></pre>
<h4 id="inputs">Inputs</h4><ul>
<li><code>address</code>: Tellers Ethereum address</li>
</ul>
<h4 id="return-value">Return value</h4><ul>
<li>balance of tellers</li>
</ul>
<h2 id="install">Install</h2><pre><code><code class="source-code prettyprint">// use npm
npm install --save detherGateway

// use yarn
yarn add detherGateway</code>
</code></pre><h2 id="example">Example</h2><pre><code><code class="source-code prettyprint">git clone https://github.com/dethertech/detherGateway.git
cd detherGateway/examples
yarn
yarn run example</code>
</code></pre><h2 id="dev">Dev</h2><pre><code><code class="source-code prettyprint">git clone https://github.com/dethertech/detherGateway.git
cd detherGateway
yarn</code>
</code></pre><h2 id="test">Test</h2><pre><code><code class="source-code prettyprint">npm test</code>
</code></pre><h2 id="build-doc">Build doc</h2><pre><code><code class="source-code prettyprint"># Install ESDoc
yarn

# Run ESDoc.
yarn run:doc</code>
</code></pre><h2 id="dependencies">Dependencies</h2><ul>
<li><a href="https://github.com/dethertech/dethercontracts.git">dethercontract</a></li>
<li><a href="https://github.com/motdotla/dotenv">dotenv</a></li>
<li><a href="https://github.com/dethertech/eth-toolbox">eth-toolbox</a></li>
<li><a href="https://github.com/ethjs/ethjs-provider-signer">ethjs-provider-signer</a></li>
<li><a href="https://github.com/ethjs/ethjs-signer">ethjs-signer</a></li>
<li><a href="https://github.com/trufflesuite/truffle-contract">truffle-contract</a></li>
<li><a href="https://github.com/ethereum/web3.js/">web3</a></li>
</ul>
<h2 id="dev-dependencies">Dev Dependencies</h2><ul>
<li><a href="https://github.com/babel/babel/tree/master/packages/babel-cli">babel-cli</a></li>
<li><a href="https://github.com/babel/babel/tree/master/packages/babel-core">babel-core</a></li>
<li><a href="https://github.com/babel/babel-eslint">babel-eslint</a></li>
<li><a href="https://github.com/babel/babel/tree/master/packages/babel-polyfill">babel-polyfill</a></li>
<li><a href="https://github.com/babel/babel/tree/master/packages/babel-preset-latest">babel-preset-latest</a></li>
<li><a href="https://github.com/MikeMcl/bignumber.js">bignumber.js</a></li>
<li><a href="https://github.com/chaijs/chai">chai</a></li>
<li><a href="https://github.com/domenic/chai-as-promised">chai-as-promised</a></li>
<li><a href="https://github.com/esdoc/esdoc">esdoc</a></li>
<li><a href="https://github.com/esdoc/esdoc-plugins">esdoc-standard-plugin</a></li>
<li><a href="https://github.com/eslint/eslint">eslint</a></li>
<li><a href="https://github.com/airbnb/javascript">eslint-config-airbnb-base</a></li>
<li><a href="https://github.com/benmosher/eslint-plugin-import">eslint-plugin-import</a></li>
<li><a href="https://github.com/mochajs/mocha">mocha</a></li>
</ul>
<h2 id="bugs">Bugs</h2><p>When you find issues, please report them:</p>
<ul>
<li>web: <a href="https://github.com/dethertech/detherGateway/issues">https://github.com/dethertech/detherGateway/issues</a></li>
</ul>
<h2 id="license">License</h2><ul>
<li><strong>MIT</strong>: <a href="http://opensource.org/licenses/MIT">http://opensource.org/licenses/MIT</a></li>
</ul>
<h2 id="donation">Donation</h2><ul>
<li><a href="https://ethereum.org/donate">Ethereum Fundation</a></li>
<li><a href="https://etherscan.io/address/0x71c7656ec7ab88b098defb751b7401b5f6d8976f">Etherscan</a></li>
<li><a href="https://etherscan.io/address/0x7cB57B5A97eAbe94205C07890BE4c1aD31E486A8">MyEtherWallet</a></li>
</ul>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.0.3)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
